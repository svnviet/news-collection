<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>MyNewsHub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
</head>
<body class="bg-gray-100 text-gray-800">

<!-- Header -->
<header class="bg-white shadow-md sticky top-0 z-10">
    <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
        <h1 class="text-2xl font-bold text-blue-600">MyNewsHub</h1>
        <nav class="space-x-4">
            <a href="#" class="text-gray-700 hover:text-blue-600">Home</a>
            <a href="#" class="text-gray-700 hover:text-blue-600">World</a>
            <a href="#" class="text-gray-700 hover:text-blue-600">Tech</a>
            <a href="#" class="text-gray-700 hover:text-blue-600">Business</a>
            <a href="#" class="text-gray-700 hover:text-blue-600">Life</a>
        </nav>
    </div>
</header>

<!-- Alpine.js (only needed once in <head>) -->
<script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>

<section class="max-w-7xl mx-auto p-4">
    <div class="grid grid-cols-4 grid-rows-2 gap-2">

        <!-- 2x1 Featured Card with Carousel (600x300) -->
        <div
                x-data="{
        activeSlide: 0,
        slides: {{ hot_news }},
        paused: false,
                init() {
                    setInterval(() => {
                        if (!this.paused) {
                            this.activeSlide = (this.activeSlide + 0.5) % this.slides.length;
                        }
                    }, 5000);
                }
      }"
                x-init="init()"
                @mouseenter="paused = true"
                @mouseleave="paused = false"
                class="col-span-2 row-span-3 bg-white rounded-1xl shadow overflow-hidden relative h-[300px]"
        >

            <!-- Slide Content -->
            <template x-for="(slide, index) in slides" :key="index">
                <div x-show="activeSlide === index" x-transition class="absolute inset-0 w-full h-full">
                    <img :src="slide.image_url" alt="" class="w-full h-full object-cover">
                    <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent text-white p-4">
                        <h3 class="text-lg font-semibold" x-text="slide.title"></h3>
                    </div>
                </div>
            </template>

            <!-- Dot Controls -->
            <div class="absolute bottom-3 right-4 flex space-x-2">
                <template x-for="(slide, index) in slides" :key="index">
                    <button @click="activeSlide = index"
                            :class="activeSlide === index ? 'bg-white' : 'bg-gray-400'"
                            class="w-3 h-3 rounded-full transition-colors duration-300"></button>
                </template>
            </div>
        </div>

        <!-- Bottom Row (4x 1x1 Cards) -->
        {% for item in items %}
        {% if item.image_url %}
        <a href="{{ item.link }}" target="_blank" class="block">
            <div class="bg-white rounded-xl shadow overflow-hidden h-[100px] flex">
                <!-- Left side: logo on top, then title -->
                <div class="w-3/5 p-2 flex flex-col">
                    <!-- Logo on top -->
                    <div>
                        <img src="{{ url_for('static', filename=item.source_logo_url) }}" alt="Source Logo"
                             class="h-4 mb-1">
                    </div>

                    <!-- Title below logo -->
                    <h4 class="text-sm font-semibold line-clamp-3">{{ item.title }}</h4>
                </div>

                <!-- Right side: image with border -->
                <div class="w-2/5 p-2 flex items-center justify-center">
                    <img src="{{ item.image_url }}" alt=""
                         class="w-full h-full object-cover border border-gray-300 rounded-md">
                </div>
            </div>
        </a>
        {% else %}
        <a href="{{ item.link }}" target="_blank" class="block">
            <div class="bg-white rounded-xl shadow overflow-hidden h-[300px] p-2 flex flex-col">
                <!-- First row: logo (3/5) and "Chuyên mục" (2/5) -->
                <div class="flex w-full">
                    <!-- Logo: 3/5 -->
                    <div class="w-3/5 flex items-center">
                        <img src="{{ url_for('static', filename=item.source_logo_url) }}" alt="Source Logo" class="h-4">
                    </div>
                    <!-- Chuyên mục: 2/5 -->
                    <div class="w-2/5 flex items-center justify-end">
                        <h4 class="text-xs text-gray-600 line-clamp-1">Chuyên mục</h4>
                    </div>
                </div>

                <!-- Second row: title with extra top padding -->
                <div class="pt-2">
                    <h4 class="text-sm font-semibold line-clamp-3">{{ item.title }}</h4>
                </div>
            </div>
        </a>
        {% endif %}

        {% endfor %}

    </div>


</section>


<!-- Categories -->
<section class="max-w-7xl mx-auto p-4 mt-10">
    <h2 class="text-xl font-semibold mb-4">Categories</h2>
    <div class="grid grid-cols-2 md:grid-cols-5 gap-2">
        <button class="bg-blue-100 text-blue-700 py-2 rounded-lg font-semibold hover:bg-blue-200">Politics</button>
        <button class="bg-green-100 text-green-700 py-2 rounded-lg font-semibold hover:bg-green-200">Tech</button>
        <button class="bg-yellow-100 text-yellow-700 py-2 rounded-lg font-semibold hover:bg-yellow-200">Finance</button>
        <button class="bg-purple-100 text-purple-700 py-2 rounded-lg font-semibold hover:bg-purple-200">Health</button>
        <button class="bg-pink-100 text-pink-700 py-2 rounded-lg font-semibold hover:bg-pink-200">Life</button>
    </div>
</section>

<!-- Footer -->
<footer class="bg-white mt-10 border-t py-6 text-center text-sm text-gray-500">
    © 2025 MyNewsHub. All rights reserved.
</footer>
</body>
</html>

