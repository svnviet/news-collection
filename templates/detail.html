{% extends "base.html" %}

{% block head %}
<title>{{ article.title }} - Tin Tức Tổng Hợp</title>
<meta name="description" content="{{ article.description | striptags | truncate(160) }}">
<meta name="author" content="{{ article.author if article.author else 'Tin Tức Tổng Hợp' }}">
<link rel="canonical" href="{{ request.url }}">

<!-- Open Graph -->
<meta property="og:type" content="article">
<meta property="og:title" content="{{ article.title }}">
<meta property="og:description" content="{{ article.description | striptags | truncate(200) }}">
<meta property="og:url" content="{{ request.url }}">
<meta property="og:image"
      content="{{ article.image_url if article.image_url else url_for('static', filename='logo.png', _external=True) }}">
<meta property="og:site_name" content="Tin Tức Tổng Hợp">

<!-- Twitter -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="{{ article.title }}">
<meta name="twitter:description" content="{{ article.description | striptags | truncate(200) }}">
<meta name="twitter:image"
      content="{{ article.image_url if article.image_url else url_for('static', filename='logo.png', _external=True) }}">
<!-- Favicon -->
<link rel="icon" type="image/png" href="{{ url_for('static', filename='favicon.png') }}">

<!-- Tailwind & Alpine -->
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
<link rel="stylesheet" href="{{ url_for('static', filename='vn-vi.css') }}">

{% endblock %}

{% block content %}
<div class="container">
    <div class="page-detail">
        <main class="sidebar-1 max-w-4xl mx-auto p-4 bg-white shadow mt-4 rounded-lg">
            <div class="mb-4">
                <img src="{{ url_for('static', filename=item.source_logo_url) }}" alt="Source Logo"
                     class="h-15 mb-1">
            </div>
            <h2 class="text-2xl font-semibold mb-4">{{ article.title }}</h2>
            {% if article.author %}
            <p class="text-sm text-gray-500 text-left"><span>Bài viết của </span>{{ article.author|safe }}</p>
            {% endif %}
            <p class="text-sm text-gray-500 mb-4 text-right">{{ article.published_at }}</p>
            <div class="prose max-w-none">
                {{ article.content | safe }}
            </div>
            <p class="text-sx text-gray-500 mb-4 text-left">Đọc bài viết gốc tại <a class="text-blue-500 underline"
                                                                                    href="{{ article.article_url }}"
                                                                                    target="_blank">đây</a></p>
        </main>
    </div>
</div>
{% endblock %}
